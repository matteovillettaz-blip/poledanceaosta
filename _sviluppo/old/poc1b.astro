---
import BaseLanding from '../layouts/BaseLanding.astro';
import Header from '../components/shared/Header.astro';
import Footer from '../components/shared/Footer.astro';
import CourseCard from '../components/shared/CourseCard.astro';
import GoogleMap from '../components/shared/GoogleMap.astro';
import content from '../data/content.json';
import '../styles/poc1.css';

// Community-first: Social proof leads
// Structure: Community Hero -> Testimonials -> Numbers -> Instructors -> Courses -> Join CTA
---

<BaseLanding title="Pole Dance Aosta - Community-first" pocStyle="poc1">
  <Header variant="light" logoColor="#4A4A4A" />

  <main>
    <!-- Hero - Community Focus -->
    <section class="hero" id="home">
      <div class="hero__content">
        <p class="hero__eyebrow">150+ donne hanno gia scelto noi</p>
        <h1 class="hero__title">Unisciti alla nostra famiglia</h1>
        <p class="hero__subtitle">Piu che una palestra, una community. Entra a far parte di un gruppo di donne che si supportano ogni giorno.</p>
        <a href="#community" class="hero__cta">
          Conosci la community
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <polyline points="19 12 12 19 5 12"></polyline>
          </svg>
        </a>
      </div>
    </section>

    <!-- Testimonials Grid - First Section -->
    <section class="section" id="community">
      <div class="section__container">
        <header class="section__header">
          <h2 class="section__title">Cosa dice chi fa parte della community</h2>
        </header>

        <div class="testimonials__grid">
          <article class="testimonial-card testimonial-card--featured">
            <div class="testimonial-card__avatar">M</div>
            <blockquote class="testimonial-card__quote">
              "Non cercavo solo un corso di pole, cercavo un posto dove sentirmi accolta. L'ho trovato."
            </blockquote>
            <cite class="testimonial-card__author">Martina, 28 anni</cite>
            <span class="testimonial-card__time">Con noi da 2 anni</span>
          </article>

          <article class="testimonial-card">
            <div class="testimonial-card__avatar">S</div>
            <blockquote class="testimonial-card__quote">
              "Le ragazze qui sono diventate amiche vere. Ci supportiamo dentro e fuori dalla sala."
            </blockquote>
            <cite class="testimonial-card__author">Sara, 35 anni</cite>
          </article>

          <article class="testimonial-card">
            <div class="testimonial-card__avatar">G</div>
            <blockquote class="testimonial-card__quote">
              "Avevo paura del giudizio. Qui ho trovato solo incoraggiamento."
            </blockquote>
            <cite class="testimonial-card__author">Giulia, 31 anni</cite>
          </article>

          <article class="testimonial-card">
            <div class="testimonial-card__avatar">E</div>
            <blockquote class="testimonial-card__quote">
              "Ogni lezione e come tornare a casa. L'energia e contagiosa."
            </blockquote>
            <cite class="testimonial-card__author">Elena, 26 anni</cite>
          </article>
        </div>
      </div>
    </section>

    <!-- Community Numbers -->
    <section class="section section--alt" id="numeri">
      <div class="section__container">
        <div class="stats__grid">
          <div class="stat">
            <span class="stat__number">150+</span>
            <span class="stat__label">Donne nella community</span>
          </div>
          <div class="stat">
            <span class="stat__number">5</span>
            <span class="stat__label">Anni di attivita</span>
          </div>
          <div class="stat">
            <span class="stat__number">98%</span>
            <span class="stat__label">Tornano dopo la prima lezione</span>
          </div>
          <div class="stat">
            <span class="stat__number">1000+</span>
            <span class="stat__label">Lezioni all'anno</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Instagram Feed Prominent -->
    <section class="section" id="social">
      <div class="section__container">
        <header class="section__header">
          <h2 class="section__title">Seguici su Instagram</h2>
          <p class="section__subtitle">Momenti dalla nostra community ogni giorno</p>
        </header>

        <div class="instagram__grid">
          <div class="instagram__placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
              <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
            </svg>
          </div>
          <div class="instagram__placeholder"></div>
          <div class="instagram__placeholder"></div>
          <div class="instagram__placeholder"></div>
          <div class="instagram__placeholder"></div>
          <div class="instagram__placeholder"></div>
        </div>

        <div class="instagram__cta">
          <a href="https://www.instagram.com/poledanceaosta/" target="_blank" rel="noopener" class="instagram__button">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
              <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
              <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
            </svg>
            @poledanceaosta
          </a>
        </div>
      </div>
    </section>

    <!-- The Instructors - Community Leaders -->
    <section class="section section--alt" id="insegnanti">
      <div class="section__container">
        <header class="section__header">
          <h2 class="section__title">Chi guida la community</h2>
          <p class="section__subtitle">Non solo insegnanti, ma mentori e amiche</p>
        </header>
        <div class="instructors__grid">
          {content.instructors.list.map((instructor: any) => (
            <article class="instructor-card">
              <div class="instructor-card__image">{instructor.name.charAt(0)}</div>
              <h3 class="instructor-card__name">{instructor.name}</h3>
              <p class="instructor-card__role">{instructor.role}</p>
              <p class="instructor-card__bio">{instructor.bio}</p>
            </article>
          ))}
        </div>
      </div>
    </section>

    <!-- Courses - Secondary -->
    <section class="section" id="corsi">
      <div class="section__container">
        <header class="section__header">
          <h2 class="section__title">Cosa facciamo insieme</h2>
          <p class="section__subtitle">Corsi per ogni livello ed esperienza</p>
        </header>
        <div class="courses__grid">
          {content.courses.list.map((course: any) => (
            <CourseCard
              name={course.name}
              description={course.description}
              level={course.level}
              icon={course.icon}
              variant="default"
            />
          ))}
        </div>
      </div>
    </section>

    <!-- Join CTA -->
    <section class="section section--alt" id="unisciti">
      <div class="section__container">
        <div class="join-cta">
          <div class="join-cta__avatars">
            <span>M</span>
            <span>S</span>
            <span>G</span>
            <span>E</span>
            <span class="join-cta__more">+146</span>
          </div>
          <h2 class="join-cta__title">Entra anche tu nella famiglia</h2>
          <p class="join-cta__text">Ti aspettiamo a braccia aperte</p>
          <a href="#contatti" class="join-cta__button">Unisciti a noi</a>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section class="section" id="contatti">
      <div class="section__container">
        <header class="section__header">
          <h2 class="section__title">Vieni a trovarci</h2>
        </header>
        <div class="contact__grid">
          <div class="contact__form-wrapper">
            <form class="contact__form" action="#" method="POST">
              <label for="contact-name-1b" class="sr-only">Nome</label>
              <input type="text" id="contact-name-1b" name="name" placeholder="Il tuo nome" class="contact__input" required />
              <label for="contact-email-1b" class="sr-only">Email</label>
              <input type="email" id="contact-email-1b" name="email" placeholder="La tua email" class="contact__input" required />
              <label for="contact-message-1b" class="sr-only">Messaggio</label>
              <textarea id="contact-message-1b" name="message" placeholder="Come possiamo aiutarti?" class="contact__textarea" required></textarea>
              <button type="submit" class="contact__submit">Scrivici</button>
            </form>
          </div>
          <div class="contact__info">
            <GoogleMap height="250px" borderRadius="0" />
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer variant="dark" />
  <a href={import.meta.env.BASE_URL} class="back-to-hub" aria-label="Torna all'hub POC">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
  </a>
</BaseLanding>

<style>
  .back-to-hub {
    position: fixed; bottom: 2rem; left: 2rem; width: 48px; height: 48px;
    background: rgba(0, 0, 0, 0.8); color: white; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    text-decoration: none; z-index: 1000; transition: transform 0.2s ease;
  }
  .back-to-hub:hover { transform: scale(1.1); }

  .hero__eyebrow {
    font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.1em;
    color: #E8A0BF; margin-bottom: 1rem; font-weight: 600;
  }

  /* Testimonials Grid */
  .testimonials__grid {
    display: grid; gap: 1.5rem;
  }
  @media (min-width: 768px) {
    .testimonials__grid { grid-template-columns: repeat(2, 1fr); }
    .testimonial-card--featured { grid-column: span 2; }
  }
  .testimonial-card {
    background: white; padding: 2rem; border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
  }
  .testimonial-card--featured {
    background: linear-gradient(135deg, #F8E8E8 0%, #E8E0F0 100%);
    text-align: center; padding: 3rem;
  }
  .testimonial-card__avatar {
    width: 48px; height: 48px; background: linear-gradient(135deg, #E8A0BF, #D4A5C9);
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    color: white; font-weight: 700; margin-bottom: 1rem;
  }
  .testimonial-card--featured .testimonial-card__avatar {
    width: 64px; height: 64px; font-size: 1.5rem; margin: 0 auto 1.5rem;
  }
  .testimonial-card__quote {
    font-size: 1rem; line-height: 1.7; color: #4A4A4A; margin-bottom: 1rem;
    font-style: italic;
  }
  .testimonial-card--featured .testimonial-card__quote { font-size: 1.25rem; }
  .testimonial-card__author { font-weight: 600; color: #4A4A4A; display: block; }
  .testimonial-card__time { font-size: 0.875rem; color: #E8A0BF; }

  /* Stats */
  .stats__grid {
    display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem;
    text-align: center;
  }
  @media (min-width: 768px) { .stats__grid { grid-template-columns: repeat(4, 1fr); } }
  .stat__number {
    display: block; font-size: 2.5rem; font-weight: 700;
    background: linear-gradient(135deg, #E8A0BF, #D4A5C9);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  }
  .stat__label { color: #666; font-size: 0.875rem; }

  /* Instagram Grid */
  .instagram__grid {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem;
  }
  @media (min-width: 768px) { .instagram__grid { grid-template-columns: repeat(6, 1fr); } }
  .instagram__placeholder {
    aspect-ratio: 1; background: linear-gradient(135deg, #F8E8E8, #E8E0F0);
    border-radius: 12px; display: flex; align-items: center; justify-content: center;
    color: #D4A5C9;
  }
  .instagram__cta { text-align: center; margin-top: 2rem; }
  .instagram__button {
    display: inline-flex; align-items: center; gap: 0.5rem;
    padding: 0.75rem 1.5rem; background: white; border-radius: 50px;
    color: #4A4A4A; text-decoration: none; font-weight: 600;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.2s ease;
  }
  .instagram__button:hover { transform: translateY(-2px); }

  /* Join CTA */
  .join-cta { text-align: center; }
  .join-cta__avatars {
    display: flex; justify-content: center; margin-bottom: 2rem;
  }
  .join-cta__avatars span {
    width: 48px; height: 48px; background: linear-gradient(135deg, #E8A0BF, #D4A5C9);
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    color: white; font-weight: 700; margin: 0 -8px; border: 3px solid #F5F3F0;
  }
  .join-cta__more { background: #4A4A4A !important; font-size: 0.75rem; }
  .join-cta__title {
    font-size: clamp(1.5rem, 4vw, 2rem); font-weight: 700; color: #4A4A4A; margin-bottom: 0.5rem;
  }
  .join-cta__text { color: #666; margin-bottom: 2rem; }
  .join-cta__button {
    display: inline-block; padding: 1rem 2.5rem;
    background: linear-gradient(135deg, #E8A0BF, #D4A5C9);
    color: white; border-radius: 50px; text-decoration: none; font-weight: 600;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .join-cta__button:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(232,160,191,0.4); }
</style>
